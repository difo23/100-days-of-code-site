{"componentChunkName":"component---src-components-day-template-js","path":"/day-8","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Simple Weatherapp Alan and reacthooks","day":"8","publishDate":"2020-08-16","shareText":"Day 8/100 simple weather APP using @alanvoiceai platform and react hooks.","hashtags":["100DaysOfCode","React","Hooks","API","alanvoiceai","weather","AlanAI"],"thumbnailImage":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRUlEQVQozy2My2vTAACHc9lctiZpkjbv9zttmqxN03bJatOu62PdnHZUNqkP0IMgOEXdgzkmIogexMkc4kEQx/Qg8+xB/C+8exnoX2FR4ePjd/l+AEL5ZrlfKdTIlA6BDDLF/QOeYgXOodMGT9t0WqcJgyZNhjBpTEaZAL/2Ge48BWBYwdM2k9ZRSEgmBBTi/w5+1BOkjWMqBgsYLOKImMKUFKqkcR3HdJTIIXgGQEAOAtnEBAOOkeAY8Z9xMoWKvDhNMzZFKDgigGcoCBInxik4aaBEdvQOTzAAMiVAIEcSVrNxLj67UI3a9VqvtzCIR15am29dmJ9bqlW7rWa/27240h+22oNqYwVP2fAkB4zKJKIwctlxQl33venZoNQoh+1iaa4S9/1yp1iMXTfyg7kg6hWDZq7QzJUWaC2EJ1kAgzWGC0WjS9AViiobcqQrkaHXdTn0gr7tLapabNrtjNvzoqHiDjhr2ayvW/VbZNoFWHJGYGNF7qpcjc/eIMM9NtplZx9z0SNi5omUuSPIl0VlVVKvSuoVXhkq2ppmLKvaEkeHgMTMK1xDk5Yz0jrT+Zrc+C1snlL3fwpbp4n1X3ThSJQ3bPeBO71rZ7d56a5lP7fUm6rYkrkGoHGLpjR07VflwknFO44qX/LOR0vat/XjTuvbvds/quF30/yQs97Wiie14FNceB957xxjUxfPA6Z4Pavv5Z2DkndYyb/xvUPHeKaJOyKz5Rd3Lq3uu+a2zG+Z0sO887KUPyj5r0fknRc5Y/MP/t16/C4zzNAAAAAASUVORK5CYII=","aspectRatio":2.0833333333333335,"src":"/static/dae8d815c7d36c1311b3660833184f18/3891b/day-8.png","srcSet":"/static/dae8d815c7d36c1311b3660833184f18/3ba9f/day-8.png 100w,\n/static/dae8d815c7d36c1311b3660833184f18/8ac63/day-8.png 200w,\n/static/dae8d815c7d36c1311b3660833184f18/3891b/day-8.png 400w,\n/static/dae8d815c7d36c1311b3660833184f18/8c332/day-8.png 600w,\n/static/dae8d815c7d36c1311b3660833184f18/bc8e0/day-8.png 800w,\n/static/dae8d815c7d36c1311b3660833184f18/54311/day-8.png 1280w","sizes":"(max-width: 400px) 100vw, 400px"}}}},"html":"<h1>Day 8/100 Simple weather APP using Alan AI and react hooks.</h1>\n<h2>Description:</h2>\n<p>Simple weather app to use AlanAI to query a weather API, each query is listed in the main interface. The usage commands are 'give me the weather from (city)'. The circular button on the bottom right activates Alan's voice commands, you need to have the microphone active.</p>\n<h3>Step #1: Get the weather api from:</h3>\n<blockquote>\n<blockquote>\n<blockquote>\n<p><a href=\"https://home.openweathermap.org\">Open Weather Map</a>  </p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p> You can to create a free acount for this and get you API KEY.</p>\n<h3>Step #2: Create a free acount in Alan Conversational Voice Platform:</h3>\n<blockquote>\n<blockquote>\n<blockquote>\n<p><a href=\"https://alan.app/\">Alan Platform</a>  </p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p><code>npm install @alan-ai/alan-sdk-web</code></p>\n<p>You can see this <a href=\"https://www.youtube.com/c/JavaScriptMastery/about\">JavaScript Mastery</a> youtube channel for more info about Ala Platform, this video <a href=\"https://youtu.be/rqw3OftE5sA\">Build a Voice Controlled React News Application - Alan AI Voice Assistant</a></p>\n<h3>Step #3:  Study the API Weather response:</h3>\n<p>Use this example:</p>\n<pre><code class=\"language-json\">/ 20200816182800\n// https://samples.openweathermap.org/data/2.5/weather?q=London,uk&#x26;appid=439d4b804bc8187953eb36d2a8c26a02\n\n{\n  \"coord\": {\n    \"lon\": -0.13,\n    \"lat\": 51.51\n  },\n  \"weather\": [\n    {\n      \"id\": 300,\n      \"main\": \"Drizzle\",\n      \"description\": \"light intensity drizzle\",\n      \"icon\": \"09d\"\n    }\n  ],\n  \"base\": \"stations\",\n  \"main\": {\n    \"temp\": 280.32,\n    \"pressure\": 1012,\n    \"humidity\": 81,\n    \"temp_min\": 279.15,\n    \"temp_max\": 281.15\n  },\n  \"visibility\": 10000,\n  \"wind\": {\n    \"speed\": 4.1,\n    \"deg\": 80\n  },\n  \"clouds\": {\n    \"all\": 90\n  },\n  \"dt\": 1485789600,\n  \"sys\": {\n    \"type\": 1,\n    \"id\": 5091,\n    \"message\": 0.0103,\n    \"country\": \"GB\",\n    \"sunrise\": 1485762037,\n    \"sunset\": 1485794875\n  },\n  \"id\": 2643743,\n  \"name\": \"London\",\n  \"cod\": 200\n}\n</code></pre>\n<h3>Step #4: Create the Alan script (sintax js):</h3>\n<pre><code class=\"language-js\">/ Use this sample to create your own voice commands\nintent('What does this app do?', 'What can I do here?', \n      reply('This is a weather project.'));\n\nconst API_KEY = \"8606abb9387ea5abcdaba69c4b0f99e8\";\nlet  cityWeathers = [];\n\n// weather by city  Source\nintent('Give me the weather from $(source* (.*))', (p) => {\n    \n    \n    let city = 'london';\n    \n    if(p.source.value) {\n        city = `${p.source.value.toLowerCase()}`\n    }\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&#x26;appid=${API_KEY\n        }`;\n    \n    \n    api.request(url, (error, response, body) => {\n        const  weather  = JSON.parse(body);\n        \n        if( weather.cod === '404') {\n            p.play('Sorry, please try searching for weather from a different city');\n            return;\n        }\n        \n        cityWeathers.push(`The weather in ${p.source.value} is ${weather.weather[0].description}`)\n        \n        p.play({ command: 'newWeathers', cityWeathers });\n        p.play(`Here are the (latest|recent) weather in ${p.source.value} is ${weather.weather[0].description}`);\n\n    });\n})\n</code></pre>\n<h3>Step #6: Create custom hook for get data:</h3>\n<pre><code class=\"language-jsx\">import { useState, useEffect } from 'react';\nimport alanBtn from '@alan-ai/alan-sdk-web';\n\n\nexport const useData = () => {\n\n    const ALAN_API_KEY = '42bdba96c985129c58e0ee0505f737882e956eca572e1d8b807a3e2338fdd0dc/stage';\n\n\n    const [state, setState] = useState({\n        data: [],\n        loading: true\n\n    });\n\n    useEffect(() => {\n\n        alanBtn({\n            key: ALAN_API_KEY,\n            onCommand: ({ command, cityWeathers }) => {\n\n                switch (command) {\n                    case 'newWeathers':\n\n                        console.log(command, cityWeathers);\n                        setState({\n                            data: cityWeathers,\n                            loading: false\n                        })\n                        break;\n\n                    default:\n                        break;\n                }\n            }\n        })\n    }, []);\n\n    return state;\n};\n</code></pre>\n<p>You can check <a href=\"https://nervous-stonebraker-57fa50.netlify.app/\" target=\"_blank\"> demo </a>  <a href=\"https://github.com/difo23/WeatherAppFreecodeCamp/tree/weather_alan_ai\" target=\"_blank\"> code </a> @difo23 </p>"},"site":{"siteMetadata":{"title":"Lizandro's 100 Days of Code"}}},"pageContext":{"day":"8","title":"Simple Weatherapp Alan and reacthooks"}},"staticQueryHashes":["1497828201","63159454"]}